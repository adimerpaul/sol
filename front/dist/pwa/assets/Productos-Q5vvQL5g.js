import{g as ce,r as J,x as v,a1 as ve,S as me,W as he,j as k,v as ye,ap as be,aq as xe,ar as _e,as as we,at as Ve,au as Ce,av as te,aw as Ie,ax as Pe,a0 as qe,_ as ke,c as oe,o as V,w as d,b as l,a as s,f as y,af as P,d as Y,a9 as q,a8 as L,ab as ie,ac as se,t as _,aa as le,Q as E,e as F,ao as H,ay as ne,h as ae,ag as Fe}from"./index-D17d9CED.js";import{Q as z}from"./QSpace-CRJFh_fq.js";import{h as Se,Q as Z}from"./format-C2NjPuPn.js";import{Q as Ne}from"./QBadge-CfV2PV27.js";import{Q as re}from"./QInnerLoading-Bza7ojXq.js";import{Q as ue}from"./QSelect-CvCEXiBv.js";import{Q as Qe}from"./QForm-DCBzBiBo.js";import{Q as de}from"./QTd-D0V8Af-v.js";import{Q as ze}from"./QTable-ndNxYlyN.js";import{Q as Ue}from"./QPage-Mqie5rLH.js";import"./position-engine-DqQ8RByf.js";import"./QList-DtAzkZzK.js";function S(e,o,C,w){const i=[];return e.forEach(a=>{w(a)===!0?i.push(a):o.push({failedPropValidation:C,file:a})}),i}function M(e){e?.dataTransfer&&(e.dataTransfer.dropEffect="copy"),me(e)}const Ae={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},De=["rejected"];function Be({editable:e,dnd:o,getFileInput:C,addFilesToQueue:w}){const{props:i,emit:a,proxy:t}=ce(),g=J(null),U=v(()=>i.accept!==void 0?i.accept.split(",").map(n=>(n=n.trim(),n==="*"?"*/":(n.endsWith("/*")&&(n=n.slice(0,n.length-1)),n.toUpperCase()))):null),A=v(()=>parseInt(i.maxFiles,10)),D=v(()=>parseInt(i.maxTotalSize,10));function B(n){if(e.value)if(n!==Object(n)&&(n={target:null}),n.target?.matches('input[type="file"]')===!0)n.clientX===0&&n.clientY===0&&ve(n);else{const b=C();b!==n.target&&b?.click(n)}}function T(n){e.value&&n&&w(null,n)}function R(n,b,N,Q){let u=Array.from(b||n.target.files);const h=[],I=()=>{h.length!==0&&a("rejected",h)};if(i.accept!==void 0&&U.value.indexOf("*/")===-1&&(u=S(u,h,"accept",c=>U.value.some(f=>c.type.toUpperCase().startsWith(f)||c.name.toUpperCase().endsWith(f))),u.length===0))return I();if(i.maxFileSize!==void 0){const c=parseInt(i.maxFileSize,10);if(u=S(u,h,"max-file-size",f=>f.size<=c),u.length===0)return I()}if(i.multiple!==!0&&u.length!==0&&(u=[u[0]]),u.forEach(c=>{c.__key=c.webkitRelativePath+c.lastModified+c.name+c.size}),Q===!0){const c=N.map(f=>f.__key);u=S(u,h,"duplicate",f=>c.includes(f.__key)===!1)}if(u.length===0)return I();if(i.maxTotalSize!==void 0){let c=Q===!0?N.reduce((f,K)=>f+K.size,0):0;if(u=S(u,h,"max-total-size",f=>(c+=f.size,c<=D.value)),u.length===0)return I()}if(typeof i.filter=="function"){const c=i.filter(u);u=S(u,h,"filter",f=>c.includes(f))}if(i.maxFiles!==void 0){let c=Q===!0?N.length:0;if(u=S(u,h,"max-files",()=>(c++,c<=A.value)),u.length===0)return I()}if(I(),u.length!==0)return u}function W(n){M(n),o.value!==!0&&(o.value=!0)}function m(n){me(n),(n.relatedTarget!==null||he.is.safari!==!0?n.relatedTarget!==g.value:document.elementsFromPoint(n.clientX,n.clientY).includes(g.value)===!1)===!0&&(o.value=!1)}function j(n){M(n);const b=n.dataTransfer.files;b.length!==0&&w(null,b),o.value=!1}function G(n){if(o.value===!0)return k("div",{ref:g,class:`q-${n}__dnd absolute-full`,onDragenter:M,onDragover:M,onDragleave:m,onDrop:j})}return Object.assign(t,{pickFiles:B,addFiles:T}),{pickFiles:B,addFiles:T,onDragover:W,onDragleave:m,processFiles:R,getDndNode:G,maxFilesNumber:A,maxTotalSizeNumber:D}}const Te=ye({name:"QFile",inheritAttrs:!1,props:{..._e,...xe,...Ae,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...be,...De],setup(e,{slots:o,emit:C,attrs:w}){const{proxy:i}=ce(),a=we(),t=J(null),g=J(!1),U=Ve(e),{pickFiles:A,onDragover:D,onDragleave:B,processFiles:T,getDndNode:R}=Be({editable:a.editable,dnd:g,getFileInput:$,addFilesToQueue:ee}),W=Ce(e),m=v(()=>Object(e.modelValue)===e.modelValue?"length"in e.modelValue?Array.from(e.modelValue):[e.modelValue]:[]),j=v(()=>te(m.value)),G=v(()=>m.value.map(r=>r.name).join(", ")),n=v(()=>Se(m.value.reduce((r,p)=>r+p.size,0))),b=v(()=>({totalSize:n.value,filesNumber:m.value.length,maxFiles:e.maxFiles})),N=v(()=>({tabindex:-1,type:"file",title:"",accept:e.accept,capture:e.capture,name:U.value,...w,id:a.targetUid.value,disabled:a.editable.value!==!0})),Q=v(()=>"q-file q-field--auto-height"+(g.value===!0?" q-file--dnd":"")),u=v(()=>e.multiple===!0&&e.append===!0);function h(r){const p=m.value.slice();p.splice(r,1),c(p)}function I(r){const p=m.value.indexOf(r);p!==-1&&h(p)}function c(r){C("update:modelValue",e.multiple===!0?r:r[0])}function f(r){r.keyCode===13&&qe(r)}function K(r){(r.keyCode===13||r.keyCode===32)&&A(r)}function $(){return t.value}function ee(r,p){const x=T(r,p,m.value,u.value),X=$();X!=null&&(X.value=""),x!==void 0&&((e.multiple===!0?e.modelValue&&x.every(pe=>m.value.includes(pe)):e.modelValue===x[0])||c(u.value===!0?m.value.concat(x):x))}function O(){return[k("input",{class:[e.inputClass,"q-file__filler"],style:e.inputStyle})]}function fe(){if(o.file!==void 0)return m.value.length===0?O():m.value.map((p,x)=>o.file({index:x,file:p,ref:this}));if(o.selected!==void 0)return m.value.length===0?O():o.selected({files:m.value,ref:this});if(e.useChips===!0)return m.value.length===0?O():m.value.map((p,x)=>k(Z,{key:"file-"+x,removable:a.editable.value,dense:!0,textColor:e.color,tabindex:e.tabindex,onRemove:()=>{h(x)}},()=>k("span",{class:"ellipsis",textContent:p.name})));const r=e.displayValue!==void 0?e.displayValue:G.value;return r.length!==0?[k("div",{class:e.inputClass,style:e.inputStyle,textContent:r})]:O()}function ge(){const r={ref:t,...N.value,...W.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:ee};return e.multiple===!0&&(r.multiple=!0),k("input",r)}return Object.assign(a,{fieldClass:Q,emitValue:c,hasValue:j,inputRef:t,innerValue:m,floatingLabel:v(()=>j.value===!0||te(e.displayValue)),computedCounter:v(()=>{if(e.counterLabel!==void 0)return e.counterLabel(b.value);const r=e.maxFiles;return`${m.value.length}${r!==void 0?" / "+r:""} (${n.value})`}),getControlChild:()=>R("file"),getControl:()=>{const r={ref:a.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:e.tabindex};return a.editable.value===!0&&Object.assign(r,{onDragover:D,onDragleave:B,onKeydown:f,onKeyup:K}),k("div",r,[ge()].concat(fe()))}}),Object.assign(i,{removeAtIndex:h,removeFile:I,getNativeElement:()=>t.value}),Ie(i,"nativeEl",()=>t.value),Pe(a)}}),je={name:"ProductsGrid",data(){return{loading:!1,search:"",categoryId:"all",categories:[{id:"Refrescos y Bebidas",name:"Refrescos y Bebidas",icon:"local_drink",color:"blue"},{id:"Acompañamientos",name:"Acompañamientos",icon:"restaurant",color:"teal"},{id:"Pollos",name:"Pollos",icon:"lunch_dining",color:"brown"}],products:[],dlg:!1,form:{id:null,name:"",categoria:null,description:"",price:0,unit:"UND",active:!0,ord:0,image_url:null},file:null,saving:!1,dlgInsumos:!1,manageProduct:null,insumosProducto:[],insumosOptions:[],nuevoInsumo:{insumo_id:null,cantidad:1},insumosLoading:!1,insumosSaving:!1}},computed:{filtered(){const e=(this.search||"").toLowerCase();return this.products.filter(o=>{const C=this.categoryId==="all"||o.categoria===this.categoryId,w=!e||String(o.name||"").toLowerCase().includes(e)||String(o.description||"").toLowerCase().includes(e);return C&&w})}},mounted(){this.fetchProducts()},methods:{openInsumos(e){this.manageProduct=e,this.dlgInsumos=!0,this.nuevoInsumo={insumo_id:null,cantidad:1},this.fetchInsumosOptions(),this.fetchInsumosProducto()},async fetchInsumosOptions(){try{const{data:e}=await this.$axios.get("insumos");this.insumosOptions=(e||[]).map(o=>({label:`${o.nombre} (${o.unidad||""})`,value:o.id}))}catch{this.$q.notify({type:"negative",message:"No se pudieron cargar los insumos"})}},async fetchInsumosProducto(){if(this.manageProduct){this.insumosLoading=!0;try{const{data:e}=await this.$axios.get(`productos/${this.manageProduct.id}/insumos`);this.insumosProducto=Array.isArray(e)?e:[]}catch{this.insumosProducto=[]}finally{this.insumosLoading=!1}}},async addInsumoProducto(){if(!(!this.manageProduct||!this.nuevoInsumo.insumo_id)){this.insumosSaving=!0;try{const{data:e}=await this.$axios.post(`productos/${this.manageProduct.id}/insumos`,this.nuevoInsumo);this.insumosProducto.push(e),this.nuevoInsumo={insumo_id:null,cantidad:1}}catch{this.$q.notify({type:"negative",message:"No se pudo agregar el insumo"})}finally{this.insumosSaving=!1}}},async updateInsumoProducto(e){if(!(!this.manageProduct||!e.id))try{await this.$axios.put(`productos/${this.manageProduct.id}/insumos/${e.id}`,{cantidad:e.cantidad}),this.$q.notify({type:"positive",message:"Cantidad actualizada"})}catch{this.$q.notify({type:"negative",message:"No se pudo actualizar"})}},async deleteInsumoProducto(e){!this.manageProduct||!e.id||this.$q.dialog({title:"Eliminar",message:"¿Quitar este insumo del producto?",cancel:!0,persistent:!0}).onOk(async()=>{try{await this.$axios.delete(`productos/${this.manageProduct.id}/insumos/${e.id}`),this.insumosProducto=this.insumosProducto.filter(o=>o.id!==e.id),this.$q.notify({type:"positive",message:"Insumo eliminado"})}catch{this.$q.notify({type:"negative",message:"No se pudo eliminar"})}})},toMoney(e){return Number(e||0).toLocaleString("es-BO",{minimumFractionDigits:2,maximumFractionDigits:2})},selectCategory(e){this.categoryId=e,this.fetchProducts()},async fetchProducts(){this.loading=!0;try{const e={};this.categoryId!=="all"&&(e.categoria=this.categoryId),this.search&&(e.q=this.search);const{data:o}=await this.$axios.get("productos",{params:e});this.products=Array.isArray(o)?o:[]}finally{this.loading=!1}},openNew(){this.form={id:null,name:"",categoria:null,description:"",price:0,unit:"UND",active:!0,ord:0,image_url:null},this.file=null,this.dlg=!0},openEdit(e){this.form={...e,id:e.id,image_url:e.image_url},this.file=null,this.dlg=!0},async save(){this.saving=!0;try{const e=new FormData;e.append("name",this.form.name),e.append("categoria",this.form.categoria||""),e.append("description",this.form.description||""),e.append("price",this.form.price??0),e.append("unit",this.form.unit||"UND"),e.append("active",this.form.active?1:0),e.append("ord",this.form.ord??0),this.file&&e.append("image",this.file),this.form.id?(e.append("_method","PUT"),await this.$axios.post(`productos/${this.form.id}`,e,{headers:{"Content-Type":"multipart/form-data"}}),this.$q.notify({type:"positive",message:"Producto actualizado"})):(await this.$axios.post("productos",e,{headers:{"Content-Type":"multipart/form-data"}}),this.$q.notify({type:"positive",message:"Producto creado"})),this.dlg=!1,this.fetchProducts()}catch(e){this.$q.notify({type:"negative",message:e.response?.data?.message||"No se pudo guardar"})}finally{this.saving=!1}},emitAdd(e){this.$emit("add",e),this.$q.notify({type:"positive",message:`${e.name} agregado`})}},watch:{search(){this.fetchProducts()}}},Oe={class:"row items-center q-gutter-sm q-mb-sm"},Le={class:"row q-col-gutter-sm q-mb-md"},Ee={class:"col-12"},Me={class:"row items-center q-gutter-sm"},Re={class:"row q-col-gutter-md"},We={class:"relative-position",style:{height:"180px",background:"#111"}},Ge=["src"],Ke={key:1,class:"full-width full-height flex flex-center text-white"},Xe={class:"absolute-bottom-right q-ma-sm bg-red text-white",style:{padding:"4px 10px","border-radius":"12px","font-weight":"700","min-width":"120px"}},Ye={class:"text-right"},He={class:"text-subtitle2"},Je={class:"text-caption"},Ze={class:"absolute-bottom bg-gradient text-white q-pa-sm"},$e={class:"text-subtitle2 text-weight-bold ellipsis-2-lines"},et={class:"row items-center"},tt={class:"text-caption text-grey"},ot={class:"row items-center q-mt-xs"},it={class:"text-caption"},st={class:"text-right"},lt={class:"text-caption text-positive"},nt={key:0,class:"col-12"},at={class:"text-subtitle1"},rt={class:"row q-col-gutter-sm"},ut={class:"col-12 col-md-8"},dt={class:"col-12 col-md-4"},ct={class:"col-6"},mt={class:"col-6"},ft={class:"col-12"},gt={class:"col-12"},pt={key:0,class:"q-mt-sm"},vt=["src"],ht={class:"col-6"},yt={class:"col-6"},bt={class:"text-right q-mt-md"},xt={class:"text-subtitle1"},_t={class:"q-mt-md"},wt={class:"row q-col-gutter-sm items-center"},Vt={class:"col-12 col-md-6"},Ct={class:"col-6 col-md-3"},It={class:"col-6 col-md-3"};function Pt(e,o,C,w,i,a){return V(),oe(Ue,{class:"q-pa-md bg-grey-3"},{default:d(()=>[l("div",Oe,[s(y,{flat:"",round:"",dense:"",icon:"menu",class:"lt-md"}),o[17]||(o[17]=l("div",{class:"text-h6 text-weight-bold"},"Productos",-1)),s(z),s(y,{flat:"",round:"",dense:"",icon:"refresh",onClick:a.fetchProducts,title:"Actualizar lista de productos",class:"q-mr-sm"},null,8,["onClick"]),s(y,{color:"positive",icon:"add_circle",label:"Nuevo","no-caps":"",onClick:a.openNew,class:"q-mr-sm"},null,8,["onClick"]),s(P,{modelValue:i.search,"onUpdate:modelValue":o[0]||(o[0]=t=>i.search=t),dense:"",outlined:"",debounce:"300",placeholder:"Buscar producto..."},{prepend:d(()=>[s(Y,{name:"search"})]),_:1},8,["modelValue"])]),l("div",Le,[l("div",Ee,[l("div",Me,[s(Z,{clickable:"",color:i.categoryId==="all"?"indigo":"grey-4","text-color":i.categoryId==="all"?"white":"black",onClick:o[1]||(o[1]=t=>a.selectCategory("all")),icon:"public"},{default:d(()=>[...o[18]||(o[18]=[L("Todo",-1)])]),_:1},8,["color","text-color"]),(V(!0),q(ie,null,se(i.categories,t=>(V(),oe(Z,{key:t.id,clickable:"",color:i.categoryId===t.id?t.color||"indigo":"grey-4","text-color":i.categoryId===t.id?"white":"black",onClick:g=>a.selectCategory(t.id),icon:t.icon||"category"},{default:d(()=>[L(_(t.name),1)]),_:2},1032,["color","text-color","onClick","icon"]))),128))])])]),l("div",Re,[(V(!0),q(ie,null,se(a.filtered,t=>(V(),q("div",{key:t.id,class:"col-12 col-sm-6 col-md-4 col-lg-3"},[s(E,{class:"overflow-hidden hoverable"},{default:d(()=>[l("div",We,[t.image?(V(),q("img",{key:0,src:`${e.$url}/../storage/${t.image}`,alt:"img",style:{width:"100%",height:"100%","object-fit":"cover"},loading:"lazy"},null,8,Ge)):(V(),q("div",Ke,[s(Y,{name:"image",size:"56px"})])),l("div",Xe,[l("div",Ye,[o[19]||(o[19]=l("div",{class:"text-caption"},"Venta",-1)),l("div",He,_(a.toMoney(t.price))+" Bs",1),l("div",Je," Costo: "+_(a.toMoney(t.costo_insumos||0))+" Bs ",1)])]),l("div",Ze,[l("div",$e,_(t.name),1)])]),s(F,{class:"q-py-xs"},{default:d(()=>[l("div",et,[s(Ne,{outline:"",color:"grey-7",class:"q-mr-sm"},{default:d(()=>[L(_(t.unit),1)]),_:2},1024),l("div",tt,_(t.categoria||"—"),1),s(z),s(y,{dense:"",round:"",flat:"",icon:"edit",onClick:H(g=>a.openEdit(t),["stop"])},null,8,["onClick"]),s(y,{dense:"",round:"",flat:"",icon:"inventory_2",class:"q-ml-xs",onClick:H(g=>a.openInsumos(t),["stop"]),title:"Insumos del producto"},null,8,["onClick"])]),l("div",ot,[l("div",null,[o[20]||(o[20]=l("div",{class:"text-caption text-grey-7"},"Costo aprox.",-1)),l("div",it,_(a.toMoney(t.costo_insumos||0))+" Bs ",1)]),s(z),l("div",st,[o[21]||(o[21]=l("div",{class:"text-caption text-grey-7"},"Utilidad aprox.",-1)),l("div",lt,_(a.toMoney((t.price||0)-(t.costo_insumos||0)))+" Bs ",1)])])]),_:2},1024)]),_:2},1024)]))),128)),!i.loading&&!a.filtered.length?(V(),q("div",nt,[s(E,{flat:"",bordered:""},{default:d(()=>[s(F,{class:"text-center text-grey"},{default:d(()=>[...o[22]||(o[22]=[L("Sin resultados",-1)])]),_:1})]),_:1})])):le("",!0)]),s(re,{showing:i.loading},{default:d(()=>[s(ne,{size:"50px"})]),_:1},8,["showing"]),s(ae,{modelValue:i.dlg,"onUpdate:modelValue":o[12]||(o[12]=t=>i.dlg=t),persistent:""},{default:d(()=>[s(E,{style:{width:"680px","max-width":"95vw"}},{default:d(()=>[s(F,{class:"row items-center q-pb-none"},{default:d(()=>[l("div",at,_(i.form.id?"Editar producto":"Nuevo producto"),1),s(z),s(y,{flat:"",round:"",dense:"",icon:"close",onClick:o[2]||(o[2]=t=>i.dlg=!1)})]),_:1}),s(F,{class:"q-pt-none"},{default:d(()=>[s(Qe,{onSubmit:H(a.save,["prevent"])},{default:d(()=>[l("div",rt,[l("div",ut,[s(P,{modelValue:i.form.name,"onUpdate:modelValue":o[3]||(o[3]=t=>i.form.name=t),label:"Nombre",dense:"",outlined:"",rules:[t=>!!t||"Requerido"]},null,8,["modelValue","rules"])]),l("div",dt,[s(ue,{modelValue:i.form.categoria,"onUpdate:modelValue":o[4]||(o[4]=t=>i.form.categoria=t),dense:"",outlined:"",label:"Categoría",options:i.categories.map(t=>t.id),"emit-value":"","map-options":"",rules:[t=>!!t||"Requerido"]},null,8,["modelValue","options","rules"])]),l("div",ct,[s(P,{modelValue:i.form.price,"onUpdate:modelValue":o[5]||(o[5]=t=>i.form.price=t),modelModifiers:{number:!0},type:"number",step:"0.01",label:"Precio (Bs)",dense:"",outlined:"",rules:[t=>t>=0||"≥ 0"]},null,8,["modelValue","rules"])]),l("div",mt,[s(P,{modelValue:i.form.unit,"onUpdate:modelValue":o[6]||(o[6]=t=>i.form.unit=t),label:"Unidad (ej: UND, KG, LT)",dense:"",outlined:""},null,8,["modelValue"])]),l("div",ft,[s(P,{modelValue:i.form.description,"onUpdate:modelValue":o[7]||(o[7]=t=>i.form.description=t),type:"textarea",autogrow:"",label:"Descripción",dense:"",outlined:""},null,8,["modelValue"])]),l("div",gt,[s(Te,{modelValue:i.file,"onUpdate:modelValue":o[8]||(o[8]=t=>i.file=t),label:"Imagen",dense:"",outlined:"",accept:".png,.jpg,.jpeg,.webp",counter:""},{prepend:d(()=>[s(Y,{name:"image"})]),_:1},8,["modelValue"]),i.form.image_url?(V(),q("div",pt,[l("img",{src:i.form.image_url,alt:"preview",style:{"max-width":"160px","border-radius":"8px"}},null,8,vt)])):le("",!0)]),l("div",ht,[s(Fe,{modelValue:i.form.active,"onUpdate:modelValue":o[9]||(o[9]=t=>i.form.active=t),label:"Activo"},null,8,["modelValue"])]),l("div",yt,[s(P,{modelValue:i.form.ord,"onUpdate:modelValue":o[10]||(o[10]=t=>i.form.ord=t),modelModifiers:{number:!0},type:"number",label:"Orden",dense:"",outlined:""},null,8,["modelValue"])])]),l("div",bt,[s(y,{flat:"",color:"negative",label:"Cancelar","no-caps":"",onClick:o[11]||(o[11]=t=>i.dlg=!1)}),s(y,{color:"primary",label:"Guardar","no-caps":"",class:"q-ml-sm",type:"submit",loading:i.saving},null,8,["loading"])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(ae,{modelValue:i.dlgInsumos,"onUpdate:modelValue":o[16]||(o[16]=t=>i.dlgInsumos=t),persistent:""},{default:d(()=>[s(E,{style:{width:"720px","max-width":"95vw"}},{default:d(()=>[s(F,{class:"row items-center q-pb-none"},{default:d(()=>[l("div",xt," Insumos de: "+_(i.manageProduct?.name||""),1),s(z),s(y,{flat:"",round:"",dense:"",icon:"close",onClick:o[13]||(o[13]=t=>i.dlgInsumos=!1)})]),_:1}),s(F,{class:"q-pt-none"},{default:d(()=>[s(ze,{title:"Insumos",rows:i.insumosProducto,columns:[{name:"insumo",label:"Insumo",field:t=>t.insumo?.nombre||"",align:"left"},{name:"unidad",label:"Unidad",field:t=>t.insumo?.unidad||"",align:"left"},{name:"cantidad",label:"Cantidad",field:"cantidad",align:"right"},{name:"actions",label:"",field:"id",align:"right"}],"row-key":"id",dense:"",flat:"",bordered:"","rows-per-page-options":[0]},{"body-cell-cantidad":d(t=>[s(de,{props:t},{default:d(()=>[s(P,{modelValue:t.row.cantidad,"onUpdate:modelValue":g=>t.row.cantidad=g,modelModifiers:{number:!0},type:"number",dense:"",outlined:"",style:{"max-width":"90px"},onBlur:g=>a.updateInsumoProducto(t.row)},null,8,["modelValue","onUpdate:modelValue","onBlur"])]),_:2},1032,["props"])]),"body-cell-actions":d(t=>[s(de,{props:t},{default:d(()=>[s(y,{dense:"",round:"",flat:"",icon:"delete",color:"negative",onClick:g=>a.deleteInsumoProducto(t.row)},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","columns"]),s(re,{showing:i.insumosLoading},{default:d(()=>[s(ne,{size:"40px"})]),_:1},8,["showing"]),l("div",_t,[o[23]||(o[23]=l("div",{class:"text-subtitle2 q-mb-xs"},"Agregar insumo",-1)),l("div",wt,[l("div",Vt,[s(ue,{modelValue:i.nuevoInsumo.insumo_id,"onUpdate:modelValue":o[14]||(o[14]=t=>i.nuevoInsumo.insumo_id=t),options:i.insumosOptions,label:"Insumo",dense:"",outlined:"","emit-value":"","map-options":""},null,8,["modelValue","options"])]),l("div",Ct,[s(P,{modelValue:i.nuevoInsumo.cantidad,"onUpdate:modelValue":o[15]||(o[15]=t=>i.nuevoInsumo.cantidad=t),modelModifiers:{number:!0},type:"number",dense:"",outlined:"",label:"Cantidad"},null,8,["modelValue"])]),l("div",It,[s(y,{color:"primary",label:"Agregar","no-caps":"",class:"full-width",loading:i.insumosSaving,onClick:a.addInsumoProducto},null,8,["loading","onClick"])])])])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const jt=ke(je,[["render",Pt],["__scopeId","data-v-5decf350"]]);export{jt as default};
